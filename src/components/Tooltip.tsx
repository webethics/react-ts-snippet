import React, { type ReactElement } from "react";
import Button from "./formElements/Button";
import { usePopperTooltip } from "react-popper-tooltip";
import "react-popper-tooltip/dist/styles.css";
import type { simpleTooltipConfig } from "../types/tooltipTypes";
const Tooltip = ({
    content,
    tabIndex,
    icon,
    placement,
}: simpleTooltipConfig): ReactElement => {
    const {
        getArrowProps,
        getTooltipProps,
        setTooltipRef,
        setTriggerRef,
        visible,
    } = usePopperTooltip({
        placement: placement ?? "top",
        trigger: ["click", "hover"],
        defaultVisible: false,
    });

    return (
        <div className="popover-wrap inline-block relative" tabIndex={tabIndex}>
            <button
                type="button"
                ref={setTriggerRef}
                className="cursor-pointer inline-block ml-2 align-middle"
            >
                {icon === "projects" ? (
                    <svg
                        xmlns="http://www.w3.org/2000/svg"
                        width="20"
                        height="20"
                        viewBox="0 0 20 20"
                        fill="none"
                    >
                        <path
                            d="M7.91797 0.416016H1.2513C0.791065 0.416016 0.417969 0.789112 0.417969 1.24935V7.91601C0.417969 8.37625 0.791065 8.74935 1.2513 8.74935H7.91797C8.3782 8.74935 8.7513 8.37625 8.7513 7.91601V1.24935C8.7513 0.789112 8.3782 0.416016 7.91797 0.416016Z"
                            fill="#044FF5"
                        />
                        <path
                            d="M5.35913 10.8327C5.26915 10.7121 5.15223 10.614 5.01768 10.5465C4.88313 10.479 4.73467 10.4438 4.58413 10.4438C4.43359 10.4438 4.28513 10.479 4.15058 10.5465C4.01603 10.614 3.8991 10.7121 3.80913 10.8327L1.17579 14.4411C1.05412 14.6018 0.988281 14.7978 0.988281 14.9994C0.988281 15.201 1.05412 15.397 1.17579 15.5577L3.80913 19.1661C3.8991 19.2868 4.01603 19.3848 4.15058 19.4523C4.28513 19.5198 4.43359 19.555 4.58413 19.555C4.73467 19.555 4.88313 19.5198 5.01768 19.4523C5.15223 19.3848 5.26915 19.2868 5.35913 19.1661L7.99246 15.5327C8.11413 15.372 8.17997 15.176 8.17997 14.9744C8.17997 14.7728 8.11413 14.5768 7.99246 14.4161L5.35913 10.8327Z"
                            fill="#044FF5"
                        />
                        <path
                            d="M15.4167 8.74935C17.7179 8.74935 19.5833 6.88387 19.5833 4.58268C19.5833 2.2815 17.7179 0.416016 15.4167 0.416016C13.1155 0.416016 11.25 2.2815 11.25 4.58268C11.25 6.88387 13.1155 8.74935 15.4167 8.74935Z"
                            fill="#044FF5"
                        />
                        <path
                            d="M14.5033 11.4071C14.4295 11.2828 14.3247 11.1797 14.199 11.1082C14.0733 11.0366 13.9312 10.999 13.7866 10.999C13.642 10.999 13.4999 11.0366 13.3743 11.1082C13.2486 11.1797 13.1438 11.2828 13.07 11.4071L9.11165 18.0738C9.03851 18.2005 9 18.3442 9 18.4904C9 18.6367 9.03851 18.7804 9.11165 18.9071C9.18507 19.0343 9.29079 19.1398 9.4181 19.213C9.54542 19.2861 9.6898 19.3244 9.83665 19.3238H17.7533C17.9002 19.3244 18.0445 19.2861 18.1719 19.213C18.2992 19.1398 18.4049 19.0343 18.4783 18.9071C18.5515 18.7804 18.59 18.6367 18.59 18.4904C18.59 18.3442 18.5515 18.2005 18.4783 18.0738L14.5033 11.4071Z"
                            fill="#044FF5"
                        />
                    </svg>
                ) : (
                    <svg
                        xmlns="http://www.w3.org/2000/svg"
                        width="14"
                        height="14"
                        viewBox="0 0 14 14"
                        fill="none"
                        className="group"
                    >
                        <path
                            className="group-hover:fill-black"
                            d="M7 -0.000488281C5.61553 -0.000488281 4.26216 0.410055 3.11101 1.17922C1.95987 1.94839 1.06266 3.04164 0.532846 4.32073C0.003033 5.59981 -0.13559 7.00728 0.134506 8.36514C0.404603 9.72301 1.07129 10.9703 2.05026 11.9493C3.02922 12.9282 4.2765 13.5949 5.63437 13.865C6.99224 14.1351 8.3997 13.9965 9.67879 13.4667C10.9579 12.9369 12.0511 12.0396 12.8203 10.8885C13.5895 9.73736 14 8.38398 14 6.99951C14 5.143 13.2625 3.36252 11.9498 2.04976C10.637 0.73701 8.85652 -0.000488281 7 -0.000488281V-0.000488281ZM7.14584 2.91618C7.3189 2.91618 7.48807 2.9675 7.63196 3.06364C7.77585 3.15979 7.88801 3.29644 7.95423 3.45633C8.02046 3.61622 8.03779 3.79215 8.00402 3.96188C7.97026 4.13162 7.88693 4.28753 7.76456 4.4099C7.64218 4.53227 7.48627 4.6156 7.31654 4.64937C7.14681 4.68313 6.97087 4.6658 6.81099 4.59957C6.6511 4.53335 6.51445 4.4212 6.4183 4.2773C6.32215 4.13341 6.27084 3.96424 6.27084 3.79118C6.27084 3.55911 6.36302 3.33655 6.52712 3.17246C6.69121 3.00837 6.91377 2.91618 7.14584 2.91618ZM8.45834 10.7912H6.125C5.97029 10.7912 5.82192 10.7297 5.71252 10.6203C5.60313 10.5109 5.54167 10.3626 5.54167 10.2078C5.54167 10.0531 5.60313 9.90476 5.71252 9.79537C5.82192 9.68597 5.97029 9.62451 6.125 9.62451H6.5625C6.60118 9.62451 6.63827 9.60915 6.66562 9.5818C6.69297 9.55445 6.70834 9.51736 6.70834 9.47868V6.85368C6.70834 6.815 6.69297 6.77791 6.66562 6.75056C6.63827 6.72321 6.60118 6.70784 6.5625 6.70784H6.125C5.97029 6.70784 5.82192 6.64639 5.71252 6.53699C5.60313 6.42759 5.54167 6.27922 5.54167 6.12451C5.54167 5.9698 5.60313 5.82143 5.71252 5.71203C5.82192 5.60264 5.97029 5.54118 6.125 5.54118H6.70834C7.01776 5.54118 7.3145 5.66409 7.53329 5.88289C7.75209 6.10168 7.875 6.39843 7.875 6.70784V9.47868C7.875 9.51736 7.89037 9.55445 7.91772 9.5818C7.94507 9.60915 7.98216 9.62451 8.02084 9.62451H8.45834C8.61305 9.62451 8.76142 9.68597 8.87082 9.79537C8.98021 9.90476 9.04167 10.0531 9.04167 10.2078C9.04167 10.3626 8.98021 10.5109 8.87082 10.6203C8.76142 10.7297 8.61305 10.7912 8.45834 10.7912Z"
                            fill="#BABFC9"
                        />
                    </svg>
                )}
            </button>

            {visible && (
                <div
                    ref={setTooltipRef}
                    {...getTooltipProps({
                        className: "tooltip-container tooltip-containers",
                    })}
                >
                    <div className="tooltip-inner tooltip">
                        {content}
                        <Button
                            classes="custom-button custom-button-large custom-button-outline-primary mt-6 block sm:hidden"
                            attributes={{ disabled: false, value: "Got it" }}
                        />
                    </div>
                    <div
                        {...getArrowProps({
                            className: "tooltip-arrow tooltip-updated-arrow",
                        })}
                    />
                </div>
            )}
        </div>
    );
};

export default Tooltip;
